{"ast":null,"code":"import { ref, onMounted } from \"vue\";\nimport { useStore } from \"vuex\";\nimport AlertView from \"@/components/common/AlertVue.vue\";\nexport default {\n  components: {\n    AlertView\n  },\n\n  setup() {\n    let imgs;\n    onMounted(() => {\n      imgs = document.querySelectorAll(\".img-list > span\");\n      console.log(imgs);\n    });\n    const store = useStore();\n    const newItem = ref(\"\");\n    const newIcon = ref(0);\n    const showModal = ref(false);\n\n    const addItem = () => {\n      let temp = newItem.value;\n      let icon = newIcon.value; // 앞쪽 뒷쪽 공백 제거\n\n      temp = temp.trim(); // 추후 업데이트 예정(정규표현식-문자열체크 문법)\n      //  앞자리공백   공백    뒷자리공백\n\n      if (temp !== \"\") {\n        // context.emit(\"additem\", temp, icon);\n        // store.commit('ADD_MEMO' {item:temp, index:icon});\n        store.dispatch(\"fetchAddMemo\", {\n          item: temp,\n          index: icon\n        });\n        resetItem();\n      } else {\n        showModal.value = true;\n      }\n    }; // 내용 재설정\n\n\n    const resetItem = () => {\n      newItem.value = \"\";\n    };\n\n    const addIcon = index => {\n      newIcon.value = index;\n\n      for (let i = 0; i < imgs.length; i++) {\n        imgs[i].classList.remove(\"img-active\");\n      }\n\n      imgs[index].classList.add(\"img-active\");\n    };\n\n    return {\n      newItem,\n      addItem,\n      addIcon,\n      showModal\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAkCA,SAASA,GAAT,EAAcC,SAAd,QAA+B,KAA/B;AAEA,SAASC,QAAT,QAAyB,MAAzB;AAEA,OAAOC,SAAP,MAAsB,kCAAtB;AAEA,eAAe;EACbC,UAAU,EAAE;IACVD;EADU,CADC;;EAKbE,KAAK,GAAG;IACN,IAAIC,IAAJ;IACAL,SAAS,CAAC,MAAM;MACdK,IAAG,GAAIC,QAAQ,CAACC,gBAAT,CAA0B,kBAA1B,CAAP;MACAC,OAAO,CAACC,GAAR,CAAYJ,IAAZ;IACD,CAHQ,CAAT;IAKA,MAAMK,KAAI,GAAIT,QAAQ,EAAtB;IAEA,MAAMU,OAAM,GAAIZ,GAAG,CAAC,EAAD,CAAnB;IACA,MAAMa,OAAM,GAAIb,GAAG,CAAC,CAAD,CAAnB;IACA,MAAMc,SAAQ,GAAId,GAAG,CAAC,KAAD,CAArB;;IAEA,MAAMe,OAAM,GAAI,MAAM;MACpB,IAAIC,IAAG,GAAIJ,OAAO,CAACK,KAAnB;MACA,IAAIC,IAAG,GAAIL,OAAO,CAACI,KAAnB,CAFoB,CAGpB;;MACAD,IAAG,GAAIA,IAAI,CAACG,IAAL,EAAP,CAJoB,CAKpB;MACA;;MACA,IAAIH,IAAG,KAAM,EAAb,EAAiB;QACf;QACA;QACAL,KAAK,CAACS,QAAN,CAAe,cAAf,EAA+B;UAC7BC,IAAI,EAAEL,IADuB;UAE7BM,KAAK,EAAEJ;QAFsB,CAA/B;QAKAK,SAAS;MACX,CATA,MASO;QACLT,SAAS,CAACG,KAAV,GAAkB,IAAlB;MACF;IACD,CAnBD,CAbM,CAkCN;;;IACA,MAAMM,SAAQ,GAAI,MAAM;MACtBX,OAAO,CAACK,KAAR,GAAgB,EAAhB;IACD,CAFD;;IAIA,MAAMO,OAAM,GAAKF,KAAD,IAAW;MACzBT,OAAO,CAACI,KAAR,GAAgBK,KAAhB;;MACA,KAAK,IAAIG,IAAI,CAAb,EAAgBA,IAAInB,IAAI,CAACoB,MAAzB,EAAiCD,CAAC,EAAlC,EAAsC;QACpCnB,IAAI,CAACmB,CAAD,CAAJ,CAAQE,SAAR,CAAkBC,MAAlB,CAAyB,YAAzB;MACF;;MACAtB,IAAI,CAACgB,KAAD,CAAJ,CAAYK,SAAZ,CAAsBE,GAAtB,CAA0B,YAA1B;IACD,CAND;;IAQA,OAAO;MACLjB,OADK;MAELG,OAFK;MAGLS,OAHK;MAILV;IAJK,CAAP;EAMD;;AA1DY,CAAf","names":["ref","onMounted","useStore","AlertView","components","setup","imgs","document","querySelectorAll","console","log","store","newItem","newIcon","showModal","addItem","temp","value","icon","trim","dispatch","item","index","resetItem","addIcon","i","length","classList","remove","add"],"sourceRoot":"","sources":["C:\\Users\\user\\Desktop\\정용\\miniblog\\src\\components\\BlogInput.vue"],"sourcesContent":["<template>\r\n  <div class=\"input-wrap shadow\">\r\n    <input\r\n      type=\"text\"\r\n      v-model=\"newItem\"\r\n      class=\"input-box\"\r\n      maxlength=\"30\"\r\n      @keyup.enter=\"addItem\"\r\n    />\r\n\r\n    <div class=\"option\">\r\n      <div class=\"img-list\">\r\n        <span @click=\"addIcon(0)\" class=\"img1 img-active\"></span>\r\n        <span @click=\"addIcon(1)\" class=\"img2\"></span>\r\n        <span @click=\"addIcon(2)\" class=\"img3\"></span>\r\n      </div>\r\n\r\n      <span @click=\"addItem\" class=\"add-bt\">\r\n        <i class=\"fas fa-plus add-bt-icon\"></i>\r\n      </span>\r\n    </div>\r\n    <!-- 안내창 -->\r\n    <AlertView v-bind:show=\"showModal\" v-on:closemodal=\"showModal = false\">\r\n      <template #header>\r\n        <h3>-입력 요망-</h3>\r\n      </template>\r\n      <template #body>\r\n        <h2>내용을 작성하시오.</h2>\r\n      </template>\r\n    </AlertView>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref, onMounted } from \"vue\";\r\n\r\nimport { useStore } from \"vuex\";\r\n\r\nimport AlertView from \"@/components/common/AlertVue.vue\";\r\n\r\nexport default {\r\n  components: {\r\n    AlertView,\r\n  },\r\n\r\n  setup() {\r\n    let imgs;\r\n    onMounted(() => {\r\n      imgs = document.querySelectorAll(\".img-list > span\");\r\n      console.log(imgs);\r\n    });\r\n\r\n    const store = useStore();\r\n\r\n    const newItem = ref(\"\");\r\n    const newIcon = ref(0);\r\n    const showModal = ref(false);\r\n\r\n    const addItem = () => {\r\n      let temp = newItem.value;\r\n      let icon = newIcon.value;\r\n      // 앞쪽 뒷쪽 공백 제거\r\n      temp = temp.trim();\r\n      // 추후 업데이트 예정(정규표현식-문자열체크 문법)\r\n      //  앞자리공백   공백    뒷자리공백\r\n      if (temp !== \"\") {\r\n        // context.emit(\"additem\", temp, icon);\r\n        // store.commit('ADD_MEMO' {item:temp, index:icon});\r\n        store.dispatch(\"fetchAddMemo\", {\r\n          item: temp,\r\n          index: icon,\r\n        });\r\n\r\n        resetItem();\r\n      } else {\r\n        showModal.value = true;\r\n      }\r\n    };\r\n\r\n    // 내용 재설정\r\n    const resetItem = () => {\r\n      newItem.value = \"\";\r\n    };\r\n\r\n    const addIcon = (index) => {\r\n      newIcon.value = index;\r\n      for (let i = 0; i < imgs.length; i++) {\r\n        imgs[i].classList.remove(\"img-active\");\r\n      }\r\n      imgs[index].classList.add(\"img-active\");\r\n    };\r\n\r\n    return {\r\n      newItem,\r\n      addItem,\r\n      addIcon,\r\n      showModal,\r\n    };\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.input-wrap {\r\n  position: relative;\r\n  display: block;\r\n  line-height: 50px;\r\n  border-radius: 5px;\r\n  background-color: rgb(255, 253, 234);\r\n\r\n  overflow: hidden;\r\n  margin-top: 20px;\r\n}\r\n\r\n.input-wrap input {\r\n  border-style: none;\r\n}\r\n\r\n.input-wrap input:focus {\r\n  outline: none;\r\n}\r\n\r\n.input-box {\r\n  width: calc(100% - 240px);\r\n  font-size: 16px;\r\n  margin-left: 20px;\r\n  border-radius: 2px;\r\n  background-color: rgb(255, 255, 255);\r\n}\r\n\r\n.option {\r\n  position: absolute;\r\n  display: block;\r\n  right: 0;\r\n  top: 0;\r\n  width: 220px;\r\n  height: 50px;\r\n  font-size: 0;\r\n}\r\n\r\n.img1 {\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 50px;\r\n  height: 50px;\r\n  line-height: 50px;\r\n  font-size: 0;\r\n  cursor: pointer;\r\n  background: url(\"@/assets/images/first-off.png\") no-repeat center;\r\n  background-size: 30px 15px;\r\n  margin-left: 5px;\r\n}\r\n\r\n.img2 {\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 50px;\r\n  height: 50px;\r\n  line-height: 50px;\r\n  font-size: 0;\r\n  cursor: pointer;\r\n  background: url(\"@/assets/images/second-off.png\") no-repeat center;\r\n  background-size: 30px 15px;\r\n  margin-left: 5px;\r\n}\r\n\r\n.img3 {\r\n  position: relative;\r\n  display: inline-block;\r\n  width: 50px;\r\n  height: 50px;\r\n  line-height: 50px;\r\n  font-size: 0;\r\n  cursor: pointer;\r\n  background: url(\"@/assets/images/third-off.png\") no-repeat center;\r\n  background-size: 30px 15px;\r\n  margin-left: 5px;\r\n}\r\n.img-active {\r\n  opacity: 1 !important;\r\n}\r\n.img-list > span:hover {\r\n  opacity: 1;\r\n}\r\n\r\n.add-bt {\r\n  position: relative;\r\n  display: inline-block;\r\n  vertical-align: top;\r\n  width: 50px;\r\n  background-color: rgb(255, 216, 44);\r\n  cursor: pointer;\r\n  margin-left: 5px;\r\n}\r\n.add-bt:hover {\r\n  background-color: rgb(243, 203, 24);\r\n}\r\n\r\n.add-bt-icon {\r\n  display: inline-block;\r\n  color: #fff;\r\n  font-size: 10px;\r\n  width: 50px;\r\n  text-align: center;\r\n  vertical-align: middle;\r\n\r\n  /* font-size: 20px; */\r\n}\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}